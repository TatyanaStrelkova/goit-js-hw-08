{"mappings":"iiBAAA,IAqBUA,EArBVC,EAAAC,EAAA,SAEMC,EAAO,CACTC,KAAMC,SAASC,cAAc,kBAC7BC,MAAOF,SAASC,cAAc,SAC9BE,QAASH,SAASC,cAAc,aAG9BG,EAAc,uBAaVT,EAAgBU,KAAKC,MAAMC,aAAaC,QAAQJ,OAElDN,EAAKI,MAAMO,MAAQd,EAAce,MACjCZ,EAAKK,QAAQM,MAAQd,EAAcQ,SAW3CL,EAAKC,KAAKY,iBAAiB,QAASC,EAAAhB,EAAA,EAvBpC,SAAqBiB,GACjB,IAAMC,EAAW,CACbJ,MAAOG,EAAEE,cAAcC,SAASN,MAAMD,MACtCN,QAASU,EAAEE,cAAcC,SAASb,QAAQM,OAE9CF,aAAaU,QAAQb,EAAaC,KAAKa,UAAUJ,MAkBK,MAC1DhB,EAAKC,KAAKY,iBAAiB,UAR3B,SAAsBE,GAClBA,EAAEM,iBACFC,QAAQC,IAAIhB,KAAKC,MAAMC,aAAaC,QAAQJ,KAC5CS,EAAEE,cAAcO,QAChBf,aAAagB,WAAWnB","sources":["src/js/03-feedback.js"],"sourcesContent":["import throttle from \"lodash.throttle\";\n\nconst refs = {\n    form: document.querySelector('.feedback-form'),\n    input: document.querySelector('input'),\n    message: document.querySelector('textarea'),\n} \n\nconst STORAGE_KEY = 'feedback-form-state';\n\nfillTextArea()\n\nfunction onFormInput(e) { \n    const formData = {\n        email: e.currentTarget.elements.email.value,\n        message: e.currentTarget.elements.message.value\n    }\n    localStorage.setItem(STORAGE_KEY, JSON.stringify(formData))\n} \n\nfunction fillTextArea() { \n    const savedFormData = JSON.parse(localStorage.getItem(STORAGE_KEY));\n    if (savedFormData) { \n        refs.input.value = savedFormData.email;\n        refs.message.value = savedFormData.message;\n    }\n}\n\nfunction onFormSubmit(e) {\n    e.preventDefault();    \n    console.log(JSON.parse(localStorage.getItem(STORAGE_KEY)));\n    e.currentTarget.reset();\n    localStorage.removeItem(STORAGE_KEY);\n }\n\nrefs.form.addEventListener('input', throttle(onFormInput, 500))\nrefs.form.addEventListener('submit', onFormSubmit)\n"],"names":["savedFormData","$dCfNN","parcelRequire","$b00c40859be242c5$var$refs","form","document","querySelector","input","message","$b00c40859be242c5$var$STORAGE_KEY","JSON","parse","localStorage","getItem","value","email","addEventListener","$parcel$interopDefault","e","formData","currentTarget","elements","setItem","stringify","preventDefault","console","log","reset","removeItem"],"version":3,"file":"03-feedback.015b0bc7.js.map"}